!function(e,t){function n(e){chrome.storage.local.get("whitelist",function(t){var n={};return t.whitelist&&"Array"==t.whitelist.constructor.name?($.each(t.whitelist,function(e,t){n[t]=!0}),void e(n)):void e(n)})}function r(e,t){chrome.storage.local.set({whitelist:Object.keys(e)},t)}$(document).ready(function(){n(function(e){var t="// enter one email per line";$.each(Object.keys(e),function(e,n){t+="\n"+n}),$("textarea").text(t)}),chrome.storage.local.get("serverMode",function(e){$("#server-mode").prop("selectedIndex",e.serverMode||0).change()}),$("#save").click(function(e){var t=$("textarea")[0].value,n={},o=t.split("\n");$.each(o,function(e,t){t=t.trim(),!t.startsWith("//")&&t.length&&(n[t]=!0)}),r(n,function(){chrome.storage.local.set({serverMode:$("#server-mode")[0].selectedIndex},function(){chrome.app.window.current().close()})})}),$("#server-mode").change(function(){this.selectedIndex?$("textarea").attr("disabled","disabled"):$("textarea").removeAttr("disabled")})}),t[""]=e}({},function(){return this}());
