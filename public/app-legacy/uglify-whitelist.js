!function(n){function e(n){chrome.storage.local.get("whitelist",function(e){var o={};e.whitelist&&"Array"==e.whitelist.constructor.name?($.each(e.whitelist,function(n,e){o[e]=!0}),n(o)):n(o)})}function o(n,e){chrome.storage.local.set({whitelist:Object.keys(n)},e)}window.IS_RELEASE=!0,function(){var n,e;try{e=!navigator}catch(n){e=!0}if(e)n=global;else{n=window,window.exports=window,window.chrome||(window.chrome={});var o={"node-fetch":window.fetch,wrtc:window},i=window.require;window.require=function(n){if(n.startsWith("."))return window;var e=o[n];return e||(i?i.apply(null,arguments):window)}}n.isNode=function(){return e}}(),$(document).ready(function(){e(function(n){var e="// enter one email per line";$.each(Object.keys(n),function(n,o){e+="\n"+o}),$("textarea").text(e)}),chrome.storage.local.get("serverMode",function(n){$("#server-mode").prop("selectedIndex",n.serverMode||0).change()}),$("#save").click(function(n){var e={},i=$("textarea")[0].value.split("\n");$.each(i,function(n,o){!(o=o.trim()).startsWith("//")&&o.length&&(e[o]=!0)}),o(e,function(){chrome.storage.local.set({serverMode:$("#server-mode")[0].selectedIndex},function(){chrome.app.window.current().close()})})}),$("#server-mode").change(function(){this.selectedIndex?$("textarea").attr("disabled","disabled"):$("textarea").removeAttr("disabled")})})}("undefined"==typeof window?window={}:window);
